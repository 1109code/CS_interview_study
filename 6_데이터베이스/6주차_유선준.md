## 데이터베이스

    1. 데이터베이스 기본 개념
    2. 데이터베이스 언어 (sql: ddl dml dcl)
    3. RDBMS와 NoSql
    4. 인덱싱
    5. 정규화
    6. 반정규화
    7. 트랜젝션
    8. join

## 1. 데이터 베이스 기본 개념

### 데이터베이스의 특징 4가지

✔ **데이터베이스란?: 특정 조직의 여러 사용자들이 공유하여 사용할 수 있도록 통합해서 저장한 운영데이터의 집합**

1. **실시간 접근 가능**
   - 사용자가 요구하는 데이터를 빠른 시간 내에 제공
  
2. **계속 변화**
   - 데이터 베이스는
   - 데이터를 지속적으로 삽입, 삭제, 수정 하면서 최산 상태를 유지한다.

3. **동시 공유**
   - 다수의 사용자가 동시에 같은 내용의 데이터 이용 가능

4. **내용 기반 참조**
   - 데이터베이스의 데이터를 참조할 때 주소나 위치가 아닌 내용을 통한 참조 가능

### DBMS (DataBase Management System, 데이터베이스 관리 시스템)

✔ 데이터베이스를 조작하기 위한 시스템 (ex: MySql)

✔ 주요 기능
- 정의(Definition): DB 구조 정의 및 수정
- 조작(Manipulation): DB 내 데이터 조작
- 제어(Control): DB 접근 및 권한 설정

## 2. 데이터 베이스 언어

✔ SQL: 관계형 데이터베이스 (RDB)를 위한 표준 질의어

### DDL (Data Definition Language)

✔ 정의어

✔ 테이블 생성(CREATE), 변경(ALTER), 제거(DROP)

✔ Contraints
- **데이터 무결성**을 유지하기 위해 테이블의 컬럼에 설정하는 제약
- `NOT NULL`
- `UNIQUE`
- `PRIMARY KEY`
- `AUTOINCREMENT`

```sql
-- 테이블 생성

CREATE TABLE 테이블이름 (
   속성이름 데이터타입 [NOT NULL] [DEFAULT 기본값]
   [PRIMARY KEY (속성리스트)]
   [UNIQUE (속성리스트)]
   [FOREIGN KEY (속성리스트) REFERENCES 테이블이름(속성리스트)] [ON DELETE 옵션] [ON UPDATE 옵션]
   [CONSTRAINT 이름] [CHECK(조건)]
);

CREATE TABLE 고객(
	ID varchar(20) not null,
	name varchar(10) not null,
	age int,
	class varchar(10) not null,
	job varchar(20),
	point int default 0,
	primary key(ID)
);
```

```sql
-- 수정

-- 고객 테이블에 가입날짜 속성 추가
alter table 고객 add 가입날짜 date;

-- 가입날짜 속성 삭제
alter table 고객 drop column 가입날짜;

-- 제약 조건 추가
alter table 고객 add constraint chk_age check(나이 >= 20);

-- 제약 조건 삭제
alter table 고객 drop constraint chk_age;

```

```sql
-- 삭제

drop table 고객

```

### DML (Data Manipulation Language)

✔ 조작어

✔ 테이블에 데이터 삽입(INSERT), 수정(UPDATE), 삭제(DELETE), 검색(SELECT)


```sql

-- 검색 (이외에도 논리연산자를 통해 다양한 조건 검색을 할 수 있다)
SELECT 주문제품, 수량, 주문일자, 주문고객
FROM 주문
WHERE 주문고객 = 'apple' OR 수량 >= 15;

-- 삽입
INSERT INTO table_name (column1, column2)
VALUES (value1, value2...);

-- 수정
UPDATE table_name
SET column1=value1,
    column2=value2,
WHERE search_condition;

-- 삭제
DELETE FROM table_name
WHERE search_condition;

```

### DCL (Data Control Language)

✔ 데이터 무결성 유지, 병행 수행 제어, 보호 및 관리
- `COMMIT`, `ROLLBACK`, `GRANT`, `REVOKE`

✔ `COMMIT`: 트랜젝션의 결과를 저장하고 db에 반영

✔ `ROLLBACK`: db를 마지막 commit 시점의 상태로 복원

✔ `GRANT`: 특정 사용자에게 엑세스 권한 제공

✔ `REVOKE`: 특정 사용자에게 부여 되었던 엑세스 권한 철회

✔ 경우에 따라 `COMMIT`과 `ROLLBACK`은 트랜젝션 제어 언어(TCL)로 분류하기도 한다!


## 3. RDBMS와 NoSql

✔ 프로젝트에서 사용한 db의 특징과 왜 사용했는지를 잘 알아두자! (ex: 채팅/로그 - mongodb, jwt - redis)

### RDBMS

✔ 관계형 데이터 베이스

✔ 행과 열을 가지는 표(2차원 테이블) 형식으로 데이터를 저장하고 데이터 간의 관계를 관리하는 데이터 베이스

✔ 장점: schema에 맞춰 데이터를 관리 하기 떄문에 데이터 정합성 보장 유리

✔ 단점: 시스템이 커질 수록 쿼리가 복잡해지고 성능 저하, 수평적 확장 어려움


✔ MySQL
- 가장 많이 쓰이는 rdbms (호환성, 다양한 플랫폼)
- 오라클이 인수

✔ ORACLE DB
- 기업체에서 많이 사용
- 대규모 데이터 처리에 용이

✔ MARIA DB
- MySQl 기반 오픈소스 rdbms

✔ PostgreSQL
- SQL 표준 ↑
- 복잡한 쿼리에 강점

### NoSQL

✔ RDBMS가 비대해짐에 따라 관계가 복잡해져, 이를 극복하기 위해 등장하게 된 데이터베이스

✔ 확장성, 유연성 ↑
- 일관성 안정성 ↓ (Trade Off)

✔ 수평적 확장, 대규모 데이터의 분산 저장 및 처리에 용이!

✔ 명시적인 스키마 x

✔ 사용 사례: 채팅, 구매 내역, 로그
- 생성되는 데이터 양은 많지만, 저장하고 나서 굳이 수정하거나 일관성과 관계성을 엄밀히 보장해줘야할 일은 없다

✔ 저장 방식
- Key-Value(Redis)
- Document(MongoDB)
- graph

✔ MongoDB
- Document 형태로 데이터 저장

✔ Redis
- key-value 형태로 데이터 저장
- in-memory db
- 캐싱 지원

## 4. 인덱싱




## 5. 정규화

## 6. 반정규화

## 7. 트랜젝션

## 8. Join